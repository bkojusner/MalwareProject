from http.server import HTTPServer, BaseHTTPRequestHandler


class CustomHTTPHandler(BaseHTTPRequestHandler):

    def do_GET(self):
        try:
            print (self.path())
            self.send_response(200)
            self.end_headers()
            data = "Hello, Virus!"
            self.wfile.write(data.encode())  
        except IOError:  
            self.send_error(404, 'Broken :/')       

httpd = HTTPServer(('localhost', 8000), CustomHTTPHandler)
print ("Server started")
httpd.serve_forever()
# thread.start_new_thread(start_server)
print ("Server ended")
httpd.shutdown()
httpd.server_close()